<!DOCTYPE html>
<html lang="es">
    <head>
        <meta charset="utf-8">
        <meta name="inicio" content="width=device-width, initial-scale=1">
        <title>Manejo de Base de Datos</title>
        <link rel ="stylesheet" href ="main.css">
    </head>
    <body>
        <main>
            <h1>Trabajo de manejo de base de datos</h1>
            <div class ="ejercicios">
                <h3>Deber Uno</h3>
                <p>explicar los conceptos basicos de base de datos relacionales</p>
                <p><b>concepto uno: tablas</b><br><b>definicion:</b> es la estructura principal de una base de datos relacional<br>
                <b>componentes:</b><br><b>filas:</b> cada fila representa una entidad individual <br>
                <strong>ejemplo SQL</strong>
            <div class="code-block">
                <div class="code-header">SQL</div>
                <pre><code>INSERT INTO estudiante (Nombre, Apellido, Edad, Nota)
                    VALUES ("Juan", "Carlos", 28, 7);</code></pre>
            </div><br>esto añade un nuevo registro a la tabla estudiante y se visualizaria de la siguiente forma: <br>
            <img src = "Imagenes/Deber1BD.png" alt=" visual del codigo luego de ser integrado en el SQL" width="700" height="auto"><br>
            en donde se visualiza el id del estudiante siendo 25, el nombre en mayusculas al igual que el Apellido, la edad de 28, la nota del estudiante y la fecha del registro realizado<br>
            <b>concepto dos: claves</b><br><b>clave primaria (o primary key):</b> es el identificador unico de cada tabla<br>
            <b>clave foranea (o foreign key):</b> es la seccion de una tabla que conecta con una primary key de otra tabla, generando una relacion entre ambas tablas.<br>
            <b>ejemplo SQL y visual:</b> una tabla de empleados que esta relacionada por id empleados con el trabajo de dicho empleado<br>
            <iframe width="560" height="315" src='https://dbdiagram.io/e/695544a739fa3db27be3289d/695544af39fa3db27be32952'> </iframe> <br>
            <b>concepto tres: relaciones.</b><br> hay 3 tipos de relaciones en las tablas, estas pueden ser uno a uno, uno a muchos, muchos a uno.<br>
            <b>relacion uno a uno:</b> un registro de tabla que se  relaciona con un registro de otra.<br>
            <b>relacion uno a muchos:</b> un registro de una tabla que se relaciona con varios registros de otras.<br>
            <b>relacion muchos a muchos:</b> requiere una tabla de intermediario para conectar multiples registros entre si.<br>
            <b>concepto cuatro: columnas</b> una columna en SQL representa un atributo o caracteristica de la entidad que se guarda en la tabla<br>
            <b>ejemplo:</b> en la tabla del dbdiagram se ve que los atributos de un trabajador son: id_empleado, nombre, apellido, email, fecha_ingreso, estado_empleado, y salario_base.<br>
            En donde el id del empleado es la llave primaria, la fecha de ingreso sera la fecha en la que se elaboro dicho registro.<br>
        </p>
            </div>
            <div class="ejercicios">
                <h3>Deber Dos</h3>
            <p>Consulta todos los estudiantes cuyo promedio sea mayor a 7. <br>
             <b>solucion:</b><br> Usando el codigo SQL: <br>
             <div class="code-block">
                <div class ="code-header">SQL</div>
                <pre><code>SELECT Nombre, Apellido, Edad, Nota FROM estudiante WHERE Nota >= 7;</code></pre>
            </div> <br> donde select es el texto que imprimira la consulta, nombre, apellido, edad y nota son los valores que se visualizaran; 
            from es el texto que nos indica de que tabla saldra la consulta, que en este caso es de la tabla estudiante; where es la condicion que indica donde inicia la seleccion de la consulta,
            que seria donde las notas sean mayores o iguales a siete<br>
             Y se visualizara de la siguiente forma: <br>
             <img src="Imagenes/Ejercicio2BD.png" alt="Ejercicio 2 BD" width="400" height="auto">
        </p>
    </div>
    <div class="ejercicios">
        <h3>Deber Tres</h3>
        <p> Diseñar y normalizar una base de datos para un sistema de gestión de calificaciones académicas. <br>
            para esto haremos todo desde 0, y paso a paso añadiremos lo necesario para cumplir con los siguientes requisitos:<br>
            Mostrar todos los alumnos que se encuentran en primer semestre en el paralelo <br>
Mostrar todos los estudiantes que están en el paralelo B<br>
Mostrar las materias que se imparten en primer semestre<br>
Mostrar las materias que se imparten en segundo semestre<br>
Mostrar todas las actividades de una materia específica<br>
Mostrar el promedio final de la materia considerando:<br>
Deberes: 30%<br>
Lecciones: 20%<br>
Examen: 50%<br>
Mostrar todos los alumnos aprobados en primer semestre<br>
Mostrar todos los alumnos suspensos en segundo semestre<br>
para ello usamos el sigueinte codigo sql que añadira las tablas para la consulta<br>
        <div class="code-block">
            <div class ="code-header">SQL</div>
            <pre><code>-- Tabla de Estudiantes
CREATE TABLE Estudiantes (
    id_estudiante INT PRIMARY KEY AUTO_INCREMENT,
    nombre VARCHAR(100) NOT NULL,
    apellido VARCHAR(100) NOT NULL,
    fecha_nacimiento DATE,
    email VARCHAR(100) UNIQUE,
    id_curso INT
);

-- Tabla de Profesores
CREATE TABLE Profesores (
    id_profesor INT PRIMARY KEY AUTO_INCREMENT,
    nombre VARCHAR(100) NOT NULL,
    apellido VARCHAR(100) NOT NULL,
    email VARCHAR(100) UNIQUE
);

-- Tabla de Cursos
CREATE TABLE Cursos (
    id_curso INT PRIMARY KEY AUTO_INCREMENT,
    nombre_curso VARCHAR(100) NOT NULL
);

-- Tabla de Asignaturas
CREATE TABLE Asignaturas (
    id_asignatura INT PRIMARY KEY AUTO_INCREMENT,
    nombre_asignatura VARCHAR(100) NOT NULL,
    id_profesor INT,
    FOREIGN KEY (id_profesor) REFERENCES Profesores(id_profesor)
);

-- Tabla de Calificaciones
CREATE TABLE Calificaciones (
    id_calificacion INT PRIMARY KEY AUTO_INCREMENT,
    id_estudiante INT,
    id_asignatura INT,
    nota DECIMAL(4,2) CHECK (nota >= 0 AND nota <= 10),
    fecha DATE,
    FOREIGN KEY (id_estudiante) REFERENCES Estudiantes(id_estudiante),
    FOREIGN KEY (id_asignatura) REFERENCES Asignaturas(id_asignatura)
);</code></pre> 
        </div> <br>
        antes de esto tenemos que añadir la foreign key de la tabla estudiantes con Alter table<br>
        <div class ="code-block">
            <div class ="code-header">SQL</div>
            <pre><code>ALTER TABLE Estudiantes
ADD CONSTRAINT fk_estudiante_curso
FOREIGN KEY (id_curso) REFERENCES Cursos(id_curso);</code></pre>
        </div><br>
        con esto ahora si podemos insertar datos para consultas usando los siguientes insert:<br>
        <div class ="code-block">
            <div class ="code-header">SQL</div>
            <pre><code>INSERT INTO Cursos (nombre_curso) VALUES 
('Primer Semestre - Paralelo A'),
('Primer Semestre - Paralelo B'),
('Segundo Semestre - Paralelo A'),
('Segundo Semestre - Paralelo B');</code></pre>
        </div><br>
        <div class="code-block">
            <div class="code-header">SQL</div>
            <pre><code>INSERT INTO Estudiantes (nombre, apellido, fecha_nacimiento, email, id_curso) VALUES
('Ana', 'Pérez', '2005-03-12', 'ana@mail.com', 1), -- 1er Semestre A
('Luis', 'García', '2004-07-22', 'luis@mail.com', 1), -- 1er Semestre A
('María', 'López', '2005-01-15', 'maria@mail.com', 2), -- 1er Semestre B
('Pedro', 'Torres', '2004-11-05', 'pedro@mail.com', 2), -- 1er Semestre B
('Sofía', 'Ramírez', '2003-09-30', 'sofia@mail.com', 3), -- 2do Semestre A
('Carlos', 'Mendoza', '2003-05-18', 'carlos@mail.com', 4); -- 2do Semestre B</code></pre>
        </div><br>
        <div class="code-block">
            <div class="code-header">SQL</div>
            <pre><code>INSERT INTO Profesores (nombre, apellido, email) VALUES
('Carlos', 'Gómez', 'cgomez@mail.com'),
('Elena', 'Martínez', 'emartinez@mail.com');</code></pre>
        </div><br>
        <div class="code-block">
            <div class="code-header">SQL</div>
            <pre><code>INSERT INTO Asignaturas (nombre_asignatura, id_profesor) VALUES
('Matemáticas I', 1), -- Primer semestre
('Lengua y Literatura I', 2), -- Primer semestre
('Física II', 1), -- Segundo semestre
('Historia II', 2); -- Segundo semestre</code></pre>
        </div><br>
        aqui añadire una tabla mas con datos para la consulta de las actividades que tiene una materia<br>
        <div class="code-block">
            <div class="code-header">SQL</div>
            <pre><code>INSERT INTO Asignaturas (nombre_asignatura, id_profesor) VALUES
('Matemáticas I', 1), -- Primer semestre
('Lengua y Literatura I', 2), -- Primer semestre
('Física II', 1), -- Segundo semestre
('Historia II', 2); -- Segundo semestre</code></pre>
        </div> <br>
        <div class="code-block">
            <div class="code-header">SQL</div>
            <pre><code>INSERT INTO Calificaciones (id_estudiante, id_asignatura, nota, fecha) VALUES
(1, 1, 8.5, '2026-01-01'), -- Ana en Matemáticas I
(2, 1, 7.0, '2026-01-01'), -- Luis en Matemáticas I
(3, 2, 6.0, '2026-01-02'), -- María en Lengua I
(4, 2, 4.5, '2026-01-02'), -- Pedro en Lengua I
(5, 3, 9.0, '2026-01-03'), -- Sofía en Física II
(6, 4, 5.0, '2026-01-03'); -- Carlos en Historia II</code></pre>
        </div><br>
        
        
        </p>
    </div>
        </main>
    </body>

</html>
